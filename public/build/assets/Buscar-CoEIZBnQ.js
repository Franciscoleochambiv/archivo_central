import{k as b,f as n,o as i,a as y,b as s,d as v,i as g,l as k,F as a,m as p,p as x,t as l,e,g as w}from"./app-Bl8UmmZP.js";import{_ as c}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={name:"BuscarExpedientes",data(){return{filtros:{oficina_id:"",serie:"",comprobante:""},oficinas:[],resultados:[]}},methods:{async buscar(){const u=await axios.get("/api/expedientes/buscar",{params:this.filtros});this.resultados=u.data,console.log(this.resultados)},async obtenerOficinas(){const u=await axios.get("/api/oficinaexcel");this.oficinas=u.data}},mounted(){this.obtenerOficinas()}},N={class:"relative flex justify-center min-h-screen bg-gray-100 dark:bg-gray-900 selection:bg-red-500 selection:text-white"},S={class:"w-full max-w-7xl p-6 lg:p-8"},A={class:"grid grid-cols-1 lg:grid-cols-1 gap-8"},B={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},V={class:"w-full flex justify-center"},j={class:"flex flex-col"},C=["value"],D={class:"flex flex-col"},O={class:"flex flex-col"},U={key:0},F={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},M={class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"},I={class:"text-green-600 font-semibold"},T={key:0},H=["href"],L={key:1},P={class:"mt-4"},_={key:0},q={key:0},z={key:1},G={key:1,class:"text-gray-500 dark:text-gray-400 text-sm"};function J(u,o,K,Q,d,m){const f=b("Head");return i(),n(a,null,[y(f,{title:"Buscar Expedientes"}),s("div",N,[s("div",S,[o[36]||(o[36]=s("img",{src:"/asset/lolo.jpeg",alt:"Logo de la Municipalidad",class:"mx-auto max-w-full h-auto mb-10"},null,-1)),s("div",A,[s("div",B,[o[35]||(o[35]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Buscar Expedientes",-1)),s("div",V,[s("form",{onSubmit:o[3]||(o[3]=v((...t)=>m.buscar&&m.buscar(...t),["prevent"])),class:"flex flex-wrap items-end gap-4"},[s("div",j,[o[5]||(o[5]=s("label",{class:"text-sm text-gray-600 dark:text-gray-300"},"Oficina",-1)),g(s("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>d.filtros.oficina_id=t),class:"border-gray-300 rounded-md w-48"},[o[4]||(o[4]=s("option",{value:""},"Todas las oficinas",-1)),(i(!0),n(a,null,p(d.oficinas,t=>(i(),n("option",{key:t.id,value:t.id},l(t.nombre),9,C))),128))],512),[[k,d.filtros.oficina_id]])]),s("div",D,[o[6]||(o[6]=s("label",{class:"text-sm text-gray-600 dark:text-gray-300"},"Serie documental",-1)),g(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>d.filtros.serie=t),type:"text",class:"border-gray-300 rounded-md w-48",placeholder:"Ej: 001-500"},null,512),[[x,d.filtros.serie]])]),s("div",O,[o[7]||(o[7]=s("label",{class:"text-sm text-gray-600 dark:text-gray-300"},"NÂ° de comprobantes",-1)),g(s("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>d.filtros.comprobante=t),type:"text",class:"border-gray-300 rounded-md w-48",placeholder:"Ej: 50"},null,512),[[x,d.filtros.comprobante]])]),o[8]||(o[8]=s("div",null,[s("button",{type:"submit",class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"}," Buscar ")],-1))],32)]),d.resultados.length?(i(),n("div",U,[(i(!0),n(a,null,p(d.resultados,t=>(i(),n("div",{key:t.id,class:"space-y-2 text-sm dark:text-gray-200"},[o[34]||(o[34]=s("hr",{class:"my-3 border-t"},null,-1)),s("div",F,[s("p",M,[o[9]||(o[9]=s("strong",null,"Oficina:",-1)),e(" "+l(t.oficina.nombre),1)]),s("p",null,[o[10]||(o[10]=s("strong",null,"ID:",-1)),e(" "+l(t.id),1)]),s("p",null,[o[11]||(o[11]=s("strong",null,"Periodo:",-1)),e(" "+l(t.periodo),1)]),s("p",null,[o[12]||(o[12]=s("strong",null,"AÃ±o ElaboraciÃ³n:",-1)),e(" "+l(t.anio_elaboracion),1)]),s("p",null,[o[13]||(o[13]=s("strong",null,"SecciÃ³n:",-1)),e(" "+l(t.seccion),1)]),s("p",null,[o[14]||(o[14]=s("strong",null,"Fechas Extremos:",-1)),e(" "+l(t.fechas_extremos),1)]),s("p",null,[o[15]||(o[15]=s("strong",null,"Item:",-1)),e(" "+l(t.item),1)]),s("p",null,[o[16]||(o[16]=s("strong",null,"Nro. Archivo:",-1)),e(" "+l(t.nro_archivo),1)]),s("p",null,[o[17]||(o[17]=s("strong",null,"Unidad de ConservaciÃ³n:",-1)),e(" "+l(t.unidad_conservacion),1)]),s("p",null,[o[18]||(o[18]=s("strong",null,"Serie Documental:",-1)),e(" "+l(t.serie_documental),1)]),s("p",null,[o[19]||(o[19]=s("strong",null,"Nro. Comprobantes:",-1)),e(" "+l(t.nro_comprobantes),1)]),s("p",null,[o[20]||(o[20]=s("strong",null,"UbicaciÃ³n Estante:",-1)),e(" "+l(t.ubicacion_estante),1)]),s("p",null,[o[21]||(o[21]=s("strong",null,"Valor Serie Documental:",-1)),e(" "+l(t.valor_serie_documental),1)]),s("p",null,[o[22]||(o[22]=s("strong",null,"Folios:",-1)),e(" "+l(t.folios),1)]),s("p",null,[o[23]||(o[23]=s("strong",null,"Soporte Papel:",-1)),e(" "+l(t.soporte_papel),1)]),s("p",null,[o[24]||(o[24]=s("strong",null,"Es Copia Original:",-1)),e(" "+l(t.es_copia_original?"SÃ­":"No"),1)]),s("p",null,[o[25]||(o[25]=s("strong",null,"AÃ±o Extremo Inicio:",-1)),e(" "+l(t.anio_extremo_inicio),1)]),s("p",null,[o[26]||(o[26]=s("strong",null,"AÃ±o Extremo Fin:",-1)),e(" "+l(t.anio_extremo_fin),1)]),s("p",null,[o[27]||(o[27]=s("strong",null,"Color:",-1)),e(" "+l(t.color||"N/A"),1)]),s("p",null,[o[28]||(o[28]=s("strong",null,"Observaciones:",-1)),e(" "+l(t.observaciones||"Ninguna"),1)]),s("p",null,[o[29]||(o[29]=s("strong",null,"Estado Archivador:",-1)),e(" "+l(t.estado_archivador),1)]),s("p",I,[o[30]||(o[30]=s("strong",null,"UbicaciÃ³n Actual:",-1)),e(" "+l(t.ubicacion_actual),1)]),s("div",null,[o[32]||(o[32]=s("h4",{class:"text-green-600 font-semibold"},"Documentos Adjuntos:",-1)),t.documentos&&t.documentos.length?(i(),n("ul",T,[(i(!0),n(a,null,p(t.documentos,r=>(i(),n("li",{key:r.id},[o[31]||(o[31]=e(" ðŸ“Ž ")),s("a",{href:`/storage/${r.ruta}`,target:"_blank",class:"text-blue-500 underline"},l(r.nombre),9,H)]))),128))])):(i(),n("p",L,"No hay documentos adjuntos."))]),s("div",P,[o[33]||(o[33]=s("h4",{class:"font-semibold"},"Movimientos:",-1)),t.movimientos&&t.movimientos.length?(i(),n("ul",_,[(i(!0),n(a,null,p(t.movimientos,r=>(i(),n("li",{key:r.id},[e(" ðŸ“Œ "+l(r.tipo)+" por "+l(r.usuario)+" â€” "+l(r.fecha)+" ",1),r.comentario?(i(),n("span",q,"("+l(r.comentario)+")",1)):w("",!0)]))),128))])):(i(),n("p",z,"No hay movimientos registrados."))])])]))),128))])):(i(),n("div",G,"No se encontraron resultados."))])])])])],64)}const X=c(E,[["render",J]]);export{X as default};
