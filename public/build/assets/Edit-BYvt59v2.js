import{f as s,o as a,a as n,u,Z as f,w as p,b as o,d as c,t as h,i as l,p as m,F as b}from"./app-Bl8UmmZP.js";import{_ as g}from"./AuthenticatedLayout-BQNGlJ7t.js";import{S as d}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./ApplicationLogo-D2MtjczB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Chat-CXiqISL9.js";import"./Ia-CXDqMw2d.js";const x={class:"mx-auto max-w-screen-xl w-full px-4 py-2 sm:px-6 lg:px-8"},w={class:"mx-auto max-w-full"},v={class:"text-center custom-paragraph text-lg font-medium bg-indigo-600 text-white rounded-full py-2 px-4"},y={class:"relative"},$={class:"relative"},k={key:0},B={key:1,class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},S={props:["auth"],data(){return{emailValue:"",importacion:!0,email:"",form:{id:"",nombre:"",seccion:""}}},mounted(){this.auth&&this.auth.user&&this.auth.user.name&&(this.emailValue=this.auth.user.email),this.$refs.codigo&&this.$refs.codigo.focus();const i=this.$page.props.id;i&&axios.get(`/api/oficina/${i}`).then(e=>{this.form.nombre=e.data[0].nombre,this.form.seccion=e.data[0].seccion,this.form.id=e.data[0].id,console.log(e.data)}).catch(e=>{console.error("Error al obtener los detalles del movimiento:",e)})},methods:{submit(i){i.preventDefault(),this.importacion=!1,this.form.userid=JSON.stringify(this.auth.user.id),axios.put("/api/oficinamodifica/"+this.id,this.form).then(e=>{this.importacion=!0,this.form.nombre="",this.form.seccion="",this.$nextTick(()=>{this.$refs.nombre.focus()}),d.fire({title:"Mensaje",text:"Documento Grabado",icon:"success",timer:1e3,timerProgressBar:!0,showConfirmButton:!1}),this.$inertia.visit("/listadom",{method:"get"})}).catch(e=>{this.importacion=!0,this.form.nombre="",this.form.seccion="",d.fire({icon:"error",title:"Error en la grabacion del documento",text:"Ocurrio un error al intentar grabar el registro revise el tamaño de archivo",confirmButtonText:"Aceptar"}).then(t=>{t.isConfirmed&&console.log("El usuario aceptó el mensaje de error.")})})}}},C=Object.assign(S,{__name:"Edit",setup(i){return(e,t)=>(a(),s(b,null,[n(u(f),{title:"Dashboard"}),n(g,null,{default:p(()=>[o("div",x,[o("div",w,[t[7]||(t[7]=o("h1",{class:"text-center text-2xl font-bold text-black-600 sm:text-3xl"},"Oficina",-1)),o("form",{onSubmit:t[2]||(t[2]=c((...r)=>e.submit&&e.submit(...r),["prevent"])),enctype:"multipart/form-data",class:"mb-0 mt-3 space-y-4 rounded-lg p-4 shadow-2xl sm:p-6 lg:p-8"},[o("p",v," Usuario - "+h(e.$page.props.auth.user.name),1),t[5]||(t[5]=o("p",{class:"text-center custom-paragraph text-lg font-medium bg-indigo-600 text-white rounded-full py-2 px-4"}," Oficina ",-1)),o("div",null,[o("div",y,[l(o("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 pe-12 text-sm shadow-sm",placeholder:"Nombre ","onUpdate:modelValue":t[0]||(t[0]=r=>e.form.nombre=r),ref:"nombre",id:"nombre",name:"nombre",autocomplete:"off",required:""},null,512),[[m,e.form.nombre]])]),o("div",$,[t[3]||(t[3]=o("label",{for:"asunto"},"Seccion:",-1)),l(o("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 pe-12 text-sm shadow-sm","onUpdate:modelValue":t[1]||(t[1]=r=>e.form.seccion=r),ref:"seccion",id:"seccion",name:"seccion",required:"",placeholder:"seccion",autocomplete:"off"},null,512),[[m,e.form.seccion]])])]),e.importacion?(a(),s("div",k)):(a(),s("div",B,t[4]||(t[4]=[o("div",{class:"ml-2 absolute animate-spin rounded-full h-10 w-10 border-t-8 border-red-500"},null,-1)]))),t[6]||(t[6]=o("button",{type:"submit",class:"block w-full custom-paragraph rounded-lg bg-indigo-600 px-5 py-3 text-sm font-medium text-white"}," Grabar ",-1))],32)])])]),_:1})],64))}});export{C as default};
