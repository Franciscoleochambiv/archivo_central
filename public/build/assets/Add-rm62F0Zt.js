import{f as s,o as i,a as n,u as d,Z as p,w as f,b as t,d as c,t as h,i as l,p as m,F as b}from"./app-CfL62DiI.js";import{_ as g}from"./AuthenticatedLayout-QePhxG6N.js";import{S as u}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./ApplicationLogo-CM4Kn49N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Chat-Dt6yl0WE.js";import"./Ia-C-VnDNBP.js";const x={class:"mx-auto max-w-screen-xl w-full px-4 py-2 sm:px-6 lg:px-8"},w={class:"mx-auto max-w-full"},v={class:"text-center custom-paragraph text-lg font-medium bg-indigo-600 text-white rounded-full py-2 px-4"},y={class:"relative"},k={class:"relative"},$={key:0},B={key:1,class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},S={props:["auth"],data(){return{emailValue:"",importacion:!0,email:"",form:{nombre:"",seccion:""}}},mounted(){this.auth&&this.auth.user&&this.auth.user.name&&(this.emailValue=this.auth.user.email),this.$refs.codigo&&this.$refs.codigo.focus()},methods:{submit(a){a.preventDefault(),this.importacion=!1,this.form.userid=JSON.stringify(this.auth.user.id),axios.post("/api/oficina",this.form).then(o=>{this.importacion=!0,this.form.nombre="",this.form.seccion="",this.$nextTick(()=>{this.$refs.nombre.focus()}),u.fire({title:"Mensaje",text:"Documento Grabado",icon:"success",timer:1e3,timerProgressBar:!0,showConfirmButton:!1}),this.$inertia.visit("/listadom",{method:"get"})}).catch(o=>{this.importacion=!0,this.form.nombre="",this.form.seccion="",u.fire({icon:"error",title:"Error en la grabacion del documento",text:"Ocurrio un error al intentar grabar el registro revise el tamaño de archivo",confirmButtonText:"Aceptar"}).then(e=>{e.isConfirmed&&console.log("El usuario aceptó el mensaje de error.")})})}}},E=Object.assign(S,{__name:"Add",setup(a){return(o,e)=>(i(),s(b,null,[n(d(p),{title:"Dashboard"}),n(g,null,{default:f(()=>[t("div",x,[t("div",w,[e[7]||(e[7]=t("h1",{class:"text-center text-2xl font-bold text-black-600 sm:text-3xl"},"Oficina",-1)),t("form",{onSubmit:e[2]||(e[2]=c((...r)=>o.submit&&o.submit(...r),["prevent"])),enctype:"multipart/form-data",class:"mb-0 mt-3 space-y-4 rounded-lg p-4 shadow-2xl sm:p-6 lg:p-8"},[t("p",v," Usuario - "+h(o.$page.props.auth.user.name),1),e[5]||(e[5]=t("p",{class:"text-center custom-paragraph text-lg font-medium bg-indigo-600 text-white rounded-full py-2 px-4"}," Oficina ",-1)),t("div",null,[t("div",y,[l(t("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 pe-12 text-sm shadow-sm",placeholder:"Nombre ","onUpdate:modelValue":e[0]||(e[0]=r=>o.form.nombre=r),ref:"nombre",id:"nombre",name:"nombre",autocomplete:"off",required:""},null,512),[[m,o.form.nombre]])]),t("div",k,[e[3]||(e[3]=t("label",{for:"asunto"},"Seccion:",-1)),l(t("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 pe-12 text-sm shadow-sm","onUpdate:modelValue":e[1]||(e[1]=r=>o.form.seccion=r),ref:"seccion",id:"seccion",name:"seccion",required:"",placeholder:"seccion",autocomplete:"off"},null,512),[[m,o.form.seccion]])])]),o.importacion?(i(),s("div",$)):(i(),s("div",B,e[4]||(e[4]=[t("div",{class:"ml-2 absolute animate-spin rounded-full h-10 w-10 border-t-8 border-red-500"},null,-1)]))),e[6]||(e[6]=t("button",{type:"submit",class:"block w-full custom-paragraph rounded-lg bg-indigo-600 px-5 py-3 text-sm font-medium text-white"}," Grabar ",-1))],32)])])]),_:1})],64))}});export{E as default};
