import{f as l,o as d,a as n,u as m,Z as f,w as p,b as e,d as g,t as b,i,p as s,F as c}from"./app-Bl8UmmZP.js";import{_ as x}from"./AuthenticatedLayout-BQNGlJ7t.js";import{S as u}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./ApplicationLogo-D2MtjczB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Chat-CXiqISL9.js";import"./Ia-CXDqMw2d.js";const h={class:"mx-auto max-w-screen-xl w-full px-4 py-2 sm:px-6 lg:px-8"},w={class:"mx-auto max-w-full"},y={class:"text-center custom-paragraph text-lg font-medium bg-indigo-600 text-white rounded-full py-2 px-4"},v={class:"relative"},V={class:"flex flex-wrap gap-4 mt-4"},k={class:"relative flex-1 min-w-[250px]"},B={class:"relative flex-1 min-w-[250px]"},D={class:"relative flex-1 min-w-[250px]"},O={class:"relative mt-4"},U={key:0},q={key:1,class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},N={props:["auth"],data(){return{emailValue:"",importacion:!0,email:"",form:{nombre:"",latitud:0,longitud:0,radio:0,direccion:""}}},mounted(){this.auth&&this.auth.user&&this.auth.user.name&&(this.emailValue=this.auth.user.email)},methods:{submit(a){a.preventDefault(),this.importacion=!1,this.form.userid=JSON.stringify(this.auth.user.id),axios.post("/api/obras",this.form).then(r=>{this.importacion=!0,this.form.nombre="",this.form.latitud=0,this.form.longitud=0,this.form.radio=0,this.form.direccion="",this.$nextTick(()=>{this.$refs.nombre.focus()}),u.fire({title:"Mensaje",text:"Documento Grabado",icon:"success",timer:1e3,timerProgressBar:!0,showConfirmButton:!1})}).catch(r=>{this.importacion=!0,this.form.nombre="",this.form.latitud=0,this.form.longitud=0,this.form.radio=0,this.form.direccion="",u.fire({icon:"error",title:"Error en la grabacion del documento",text:"Ocurrio un error al intentar grabar el registro ",confirmButtonText:"Aceptar"}).then(t=>{t.isConfirmed&&console.log("El usuario aceptó el mensaje de error.")})})}}},T=Object.assign(N,{__name:"Add",setup(a){return(r,t)=>(d(),l(c,null,[n(m(f),{title:"Onp"}),n(x,null,{default:p(()=>[e("div",h,[e("div",w,[t[14]||(t[14]=e("h1",{class:"text-center text-2xl font-bold text-black-600 sm:text-3xl"},"Obras",-1)),e("form",{onSubmit:t[5]||(t[5]=g((...o)=>r.submit&&r.submit(...o),["prevent"])),enctype:"multipart/form-data",class:"mb-0 mt-3 space-y-4 rounded-lg p-4 shadow-2xl sm:p-6 lg:p-8"},[e("p",y," Usuario - "+b(r.$page.props.auth.user.name),1),t[12]||(t[12]=e("p",{class:"text-center custom-paragraph text-lg font-medium bg-indigo-600 text-white rounded-full py-2 px-4"}," Obras ",-1)),e("div",null,[e("div",v,[t[6]||(t[6]=e("label",{for:"nombre"},"Nombre:",-1)),i(e("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 pe-12 text-sm shadow-sm",placeholder:"Nombre","onUpdate:modelValue":t[0]||(t[0]=o=>r.form.nombre=o),ref:"nombre",id:"nombre",name:"nombre",required:""},null,512),[[s,r.form.nombre]])]),e("div",V,[e("div",k,[t[7]||(t[7]=e("label",{for:"latitud"},"Latitud:",-1)),i(e("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 text-sm shadow-sm",placeholder:"Latitud","onUpdate:modelValue":t[1]||(t[1]=o=>r.form.latitud=o),ref:"latitud",id:"latitud",name:"latitud",required:""},null,512),[[s,r.form.latitud]])]),e("div",B,[t[8]||(t[8]=e("label",{for:"longitud"},"Longitud:",-1)),i(e("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 text-sm shadow-sm",placeholder:"Longitud","onUpdate:modelValue":t[2]||(t[2]=o=>r.form.longitud=o),ref:"longitud",id:"longitud",name:"longitud",required:""},null,512),[[s,r.form.longitud]])]),e("div",D,[t[9]||(t[9]=e("label",{for:"radio"},"Radio:",-1)),i(e("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 text-sm shadow-sm",placeholder:"Radio","onUpdate:modelValue":t[3]||(t[3]=o=>r.form.radio=o),ref:"radio",id:"radio",name:"radio",required:""},null,512),[[s,r.form.radio]])])]),e("div",O,[t[10]||(t[10]=e("label",{for:"direccion"},"Dirección:",-1)),i(e("input",{type:"text",class:"w-full rounded-lg border-gray-300 focus:border-red-500 focus:ring-indigo-500 p-4 pe-12 text-sm shadow-sm",placeholder:"Dirección","onUpdate:modelValue":t[4]||(t[4]=o=>r.form.direccion=o),ref:"direccion",id:"direccion",name:"direccion",required:""},null,512),[[s,r.form.direccion]])])]),r.importacion?(d(),l("div",U)):(d(),l("div",q,t[11]||(t[11]=[e("div",{class:"ml-2 absolute animate-spin rounded-full h-10 w-10 border-t-8 border-red-500"},null,-1)]))),t[13]||(t[13]=e("button",{type:"submit",class:"block w-full custom-paragraph rounded-lg bg-indigo-600 px-5 py-3 text-sm font-medium text-white"}," Grabar ",-1))],32)])])]),_:1})],64))}});export{T as default};
