import{k as f,f as e,o as i,a as y,b as o,d as v,i as m,l as k,F as u,m as p,p as b,t as l,e as n,g as w}from"./app-CfL62DiI.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={name:"BuscarExpedientes",data(){return{filtros:{oficina_id:"",serie:"",comprobante:""},oficinas:[],resultados:[]}},methods:{async buscar(){const a=await axios.get("/api/expedientes/buscar",{params:this.filtros});this.resultados=a.data},async obtenerOficinas(){const a=await axios.get("/api/oficinaexcel");this.oficinas=a.data}},mounted(){this.obtenerOficinas()}},S={class:"relative flex justify-center min-h-screen bg-gray-100 dark:bg-gray-900 selection:bg-red-500 selection:text-white"},A={class:"w-full max-w-7xl p-6 lg:p-8"},B={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},V={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},j={class:"space-y-4"},C=["value"],D={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md overflow-auto"},U={key:0},F={key:0},M=["href"],O={key:1},T={class:"mt-4"},H={key:0},I={key:0},L={key:1},P={key:1,class:"text-gray-500 dark:text-gray-400 text-sm"};function c(a,t,q,z,d,g){const x=f("Head");return i(),e(u,null,[y(x,{title:"Buscar Expedientes"}),o("div",S,[o("div",A,[t[36]||(t[36]=o("img",{src:"/asset/lolo.jpeg",alt:"Logo de la Municipalidad",class:"mx-auto max-w-full h-auto mb-10"},null,-1)),o("div",B,[o("div",V,[t[9]||(t[9]=o("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Buscar Expedientes",-1)),o("form",{onSubmit:t[3]||(t[3]=v((...s)=>g.buscar&&g.buscar(...s),["prevent"]))},[o("div",j,[o("div",null,[t[5]||(t[5]=o("label",{class:"block text-sm text-gray-600 dark:text-gray-300"},"Oficina",-1)),m(o("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.filtros.oficina_id=s),class:"w-full border-gray-300 rounded-md"},[t[4]||(t[4]=o("option",{value:""},"Todas las oficinas",-1)),(i(!0),e(u,null,p(d.oficinas,s=>(i(),e("option",{key:s.id,value:s.id},l(s.nombre),9,C))),128))],512),[[k,d.filtros.oficina_id]])]),o("div",null,[t[6]||(t[6]=o("label",{class:"block text-sm text-gray-600 dark:text-gray-300"},"Serie documental",-1)),m(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.filtros.serie=s),type:"text",class:"w-full border-gray-300 rounded-md",placeholder:"Ej: 001-500"},null,512),[[b,d.filtros.serie]])]),o("div",null,[t[7]||(t[7]=o("label",{class:"block text-sm text-gray-600 dark:text-gray-300"},"NÂ° de comprobantes",-1)),m(o("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.filtros.comprobante=s),type:"text",class:"w-full border-gray-300 rounded-md",placeholder:"Ej: 50"},null,512),[[b,d.filtros.comprobante]])])]),t[8]||(t[8]=o("div",{class:"mt-4 text-end"},[o("button",{type:"submit",class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"},"Buscar")],-1))],32)]),o("div",D,[t[35]||(t[35]=o("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Detalles del Expediente",-1)),d.resultados.length?(i(),e("div",U,[(i(!0),e(u,null,p(d.resultados,s=>(i(),e("div",{key:s.id,class:"space-y-2 text-sm dark:text-gray-200"},[o("p",null,[t[10]||(t[10]=o("strong",null,"Titular:",-1)),n(" "+l(s.titular),1)]),o("p",null,[t[11]||(t[11]=o("strong",null,"Periodo:",-1)),n(" "+l(s.periodo),1)]),o("p",null,[t[12]||(t[12]=o("strong",null,"AÃ±o ElaboraciÃ³n:",-1)),n(" "+l(s.anio_elaboracion),1)]),o("p",null,[t[13]||(t[13]=o("strong",null,"SecciÃ³n:",-1)),n(" "+l(s.seccion),1)]),o("p",null,[t[14]||(t[14]=o("strong",null,"Fechas Extremos:",-1)),n(" "+l(s.fechas_extremos),1)]),o("p",null,[t[15]||(t[15]=o("strong",null,"Item:",-1)),n(" "+l(s.item),1)]),o("p",null,[t[16]||(t[16]=o("strong",null,"Nro. Archivo:",-1)),n(" "+l(s.nro_archivo),1)]),o("p",null,[t[17]||(t[17]=o("strong",null,"Unidad de ConservaciÃ³n:",-1)),n(" "+l(s.unidad_conservacion),1)]),o("p",null,[t[18]||(t[18]=o("strong",null,"Serie Documental:",-1)),n(" "+l(s.serie_documental),1)]),o("p",null,[t[19]||(t[19]=o("strong",null,"Nro. Comprobantes:",-1)),n(" "+l(s.nro_comprobantes),1)]),o("p",null,[t[20]||(t[20]=o("strong",null,"UbicaciÃ³n Estante:",-1)),n(" "+l(s.ubicacion_estante),1)]),o("p",null,[t[21]||(t[21]=o("strong",null,"Valor Serie Documental:",-1)),n(" "+l(s.valor_serie_documental),1)]),o("p",null,[t[22]||(t[22]=o("strong",null,"Folios:",-1)),n(" "+l(s.folios),1)]),o("p",null,[t[23]||(t[23]=o("strong",null,"Soporte Papel:",-1)),n(" "+l(s.soporte_papel),1)]),o("p",null,[t[24]||(t[24]=o("strong",null,"Es Copia Original:",-1)),n(" "+l(s.es_copia_original?"SÃ­":"No"),1)]),o("p",null,[t[25]||(t[25]=o("strong",null,"AÃ±o Extremo Inicio:",-1)),n(" "+l(s.anio_extremo_inicio),1)]),o("p",null,[t[26]||(t[26]=o("strong",null,"AÃ±o Extremo Fin:",-1)),n(" "+l(s.anio_extremo_fin),1)]),o("p",null,[t[27]||(t[27]=o("strong",null,"Color:",-1)),n(" "+l(s.color||"N/A"),1)]),o("p",null,[t[28]||(t[28]=o("strong",null,"Observaciones:",-1)),n(" "+l(s.observaciones||"Ninguna"),1)]),o("p",null,[t[29]||(t[29]=o("strong",null,"Estado Archivador:",-1)),n(" "+l(s.estado_archivador),1)]),o("p",null,[t[30]||(t[30]=o("strong",null,"UbicaciÃ³n Actual:",-1)),n(" "+l(s.ubicacion_actual),1)]),t[34]||(t[34]=o("hr",{class:"my-3 border-t"},null,-1)),o("div",null,[t[32]||(t[32]=o("h4",{class:"font-semibold"},"Documentos Adjuntos:",-1)),s.documentos&&s.documentos.length?(i(),e("ul",F,[(i(!0),e(u,null,p(s.documentos,r=>(i(),e("li",{key:r.id},[t[31]||(t[31]=n(" ðŸ“Ž ")),o("a",{href:`/storage/${r.ruta}`,target:"_blank",class:"text-blue-500 underline"},l(r.nombre),9,M)]))),128))])):(i(),e("p",O,"No hay documentos adjuntos."))]),o("div",T,[t[33]||(t[33]=o("h4",{class:"font-semibold"},"Movimientos:",-1)),s.movimientos&&s.movimientos.length?(i(),e("ul",H,[(i(!0),e(u,null,p(s.movimientos,r=>(i(),e("li",{key:r.id},[n(" ðŸ“Œ "+l(r.tipo)+" por "+l(r.usuario)+" â€” "+l(r.fecha)+" ",1),r.comentario?(i(),e("span",I,"("+l(r.comentario)+")",1)):w("",!0)]))),128))])):(i(),e("p",L,"No hay movimientos registrados."))])]))),128))])):(i(),e("div",P,"No se encontraron resultados."))])])])])],64)}const K=E(N,[["render",c]]);export{K as default};
