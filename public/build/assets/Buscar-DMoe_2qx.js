import{k as b,f as n,o as i,a as y,b as t,d as v,i as g,l as k,F as u,m as p,p as x,t as e,e as l,g as c}from"./app-DpVbqR-c.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={name:"BuscarExpedientes",data(){return{filtros:{oficina_id:"",serie:"",comprobante:""},oficinas:[],resultados:[]}},methods:{async buscar(){const a=await axios.get("/api/expedientes/buscar",{params:this.filtros});this.resultados=a.data,console.log(this.resultados)},async obtenerOficinas(){const a=await axios.get("/api/oficinaexcel");this.oficinas=a.data}},mounted(){this.obtenerOficinas()}},E={class:"relative flex justify-center min-h-screen bg-gray-100 dark:bg-gray-900 selection:bg-red-500 selection:text-white"},D={class:"w-full max-w-7xl p-6 lg:p-8"},S={class:"grid grid-cols-1 lg:grid-cols-1 gap-8"},B={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},V={class:"w-full flex justify-center"},j={class:"flex flex-col"},A=["value"],U={class:"flex flex-col"},F={class:"flex flex-col"},M={key:0},O={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},C={class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"},I={class:"text-green-600 font-semibold"},T={key:0},H=["href"],L={key:1},P={class:"mt-4"},_={key:0},R={key:0},q={key:1},z={key:1,class:"text-gray-500 dark:text-gray-400 text-sm"};function G(a,o,J,K,d,m){const f=b("Head");return i(),n(u,null,[y(f,{title:"Buscar Expedientes"}),t("div",E,[t("div",D,[o[35]||(o[35]=t("img",{src:"/asset/lolo.jpeg",alt:"Logo de la Municipalidad",class:"mx-auto max-w-full h-auto mb-10"},null,-1)),t("div",S,[t("div",B,[o[34]||(o[34]=t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white mb-4"},"Buscar Expedientes",-1)),t("div",V,[t("form",{onSubmit:o[3]||(o[3]=v((...s)=>m.buscar&&m.buscar(...s),["prevent"])),class:"flex flex-wrap items-end gap-4"},[t("div",j,[o[5]||(o[5]=t("label",{class:"text-sm text-gray-600 dark:text-gray-300"},"Oficina",-1)),g(t("select",{"onUpdate:modelValue":o[0]||(o[0]=s=>d.filtros.oficina_id=s),class:"border-gray-300 rounded-md w-48"},[o[4]||(o[4]=t("option",{value:""},"Todas las oficinas",-1)),(i(!0),n(u,null,p(d.oficinas,s=>(i(),n("option",{key:s.id,value:s.id},e(s.nombre),9,A))),128))],512),[[k,d.filtros.oficina_id]])]),t("div",U,[o[6]||(o[6]=t("label",{class:"text-sm text-gray-600 dark:text-gray-300"},"Serie documental",-1)),g(t("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>d.filtros.serie=s),type:"text",class:"border-gray-300 rounded-md w-48",placeholder:"Ej: 001-500"},null,512),[[x,d.filtros.serie]])]),t("div",F,[o[7]||(o[7]=t("label",{class:"text-sm text-gray-600 dark:text-gray-300"},"NÂ° de Documento",-1)),g(t("input",{"onUpdate:modelValue":o[2]||(o[2]=s=>d.filtros.comprobante=s),type:"text",class:"border-gray-300 rounded-md w-48",placeholder:"Ej: 50"},null,512),[[x,d.filtros.comprobante]])]),o[8]||(o[8]=t("div",null,[t("button",{type:"submit",class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition"}," Buscar ")],-1))],32)]),d.resultados.length?(i(),n("div",M,[(i(!0),n(u,null,p(d.resultados,s=>(i(),n("div",{key:s.id,class:"space-y-2 text-sm dark:text-gray-200"},[o[33]||(o[33]=t("hr",{class:"my-3 border-t"},null,-1)),t("div",O,[t("p",C,[o[9]||(o[9]=t("strong",null,"Oficina:",-1)),l(" "+e(s.oficina.nombre),1)]),t("p",null,[o[10]||(o[10]=t("strong",null,"ID:",-1)),l(" "+e(s.id),1)]),t("p",null,[o[11]||(o[11]=t("strong",null,"Periodo:",-1)),l(" "+e(s.periodo),1)]),t("p",null,[o[12]||(o[12]=t("strong",null,"Fechas de Registro Doc:",-1)),l(" "+e(s.fechas_extremos),1)]),t("p",null,[o[13]||(o[13]=t("strong",null,"SecciÃ³n:",-1)),l(" "+e(s.seccion),1)]),t("p",null,[o[14]||(o[14]=t("strong",null,"Item:",-1)),l(" "+e(s.item),1)]),t("p",null,[o[15]||(o[15]=t("strong",null,"Nro. Archivo:",-1)),l(" "+e(s.nro_archivo),1)]),t("p",null,[o[16]||(o[16]=t("strong",null,"Unidad de ConservaciÃ³n:",-1)),l(" "+e(s.unidad_conservacion),1)]),t("p",null,[o[17]||(o[17]=t("strong",null,"Serie Documental:",-1)),l(" "+e(s.serie_documental),1)]),t("p",null,[o[18]||(o[18]=t("strong",null,"Nro. Documento:",-1)),l(" "+e(s.nro_comprobantes),1)]),t("p",null,[o[19]||(o[19]=t("strong",null,"UbicaciÃ³n/Estante:",-1)),l(" "+e(s.ubicacion_estante),1)]),t("p",null,[o[20]||(o[20]=t("strong",null,"Valor Serie Documental:",-1)),l(" "+e(s.valor_serie_documental),1)]),t("p",null,[o[21]||(o[21]=t("strong",null,"Folios:",-1)),l(" "+e(s.folios),1)]),t("p",null,[o[22]||(o[22]=t("strong",null,"Soporte Papel:",-1)),l(" "+e(s.soporte_papel),1)]),t("p",null,[o[23]||(o[23]=t("strong",null,"Estado Documental:",-1)),l(" "+e(s.es_copia_original?"SÃ­":"No"),1)]),t("p",null,[o[24]||(o[24]=t("strong",null,"AÃ±o Extremo Inicio:",-1)),l(" "+e(s.anio_extremo_inicio),1)]),t("p",null,[o[25]||(o[25]=t("strong",null,"AÃ±o Extremo Fin:",-1)),l(" "+e(s.anio_extremo_fin),1)]),t("p",null,[o[26]||(o[26]=t("strong",null,"Color:",-1)),l(" "+e(s.color||"N/A"),1)]),t("p",null,[o[27]||(o[27]=t("strong",null,"Observaciones:",-1)),l(" "+e(s.observaciones||"Ninguna"),1)]),t("p",null,[o[28]||(o[28]=t("strong",null,"Estado Archivador:",-1)),l(" "+e(s.estado_archivador),1)]),t("p",I,[o[29]||(o[29]=t("strong",null,"UbicaciÃ³n Actual:",-1)),l(" "+e(s.ubicacion_actual),1)]),t("div",null,[o[31]||(o[31]=t("h4",{class:"text-green-600 font-semibold"},"Documentos Adjuntos:",-1)),s.documentos&&s.documentos.length?(i(),n("ul",T,[(i(!0),n(u,null,p(s.documentos,r=>(i(),n("li",{key:r.id},[o[30]||(o[30]=l(" ðŸ“Ž ")),t("a",{href:`/storage/${r.ruta}`,target:"_blank",class:"text-blue-500 underline"},e(r.nombre),9,H)]))),128))])):(i(),n("p",L,"No hay documentos adjuntos."))]),t("div",P,[o[32]||(o[32]=t("h4",{class:"font-semibold"},"Movimientos:",-1)),s.movimientos&&s.movimientos.length?(i(),n("ul",_,[(i(!0),n(u,null,p(s.movimientos,r=>(i(),n("li",{key:r.id},[l(" ðŸ“Œ "+e(r.tipo)+" por "+e(r.usuario)+" â€” "+e(r.fecha)+" ",1),r.comentario?(i(),n("span",R,"("+e(r.comentario)+")",1)):c("",!0)]))),128))])):(i(),n("p",q,"No hay movimientos registrados."))])])]))),128))])):(i(),n("div",z,"No se encontraron resultados."))])])])])],64)}const X=w(N,[["render",G]]);export{X as default};
